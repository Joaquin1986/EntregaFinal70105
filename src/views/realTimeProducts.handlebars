<div class="container">
    <nav>
        <ul>
            <li><a href="/views/products"><img id="logoNav" src="/img/logoAlmacen.png" alt="Almacen de Productos"></a>
            </li>
        </ul>
        <ul>
            <li><a href="/views/products" class="contrast">Home üè°</a></li>
            <li><a href="/views/realtimeproducts" class="contrast">Productos en Tiempo Real‚åö</a></li>
        </ul>
    </nav>
    <hr />
    <h1 class="hProd">Productos en TIEMPO REAL ‚åö </h1>
    <div id="filterSortDiv">
        <hr />
        <details>
            <summary>Opciones de b√∫squeda ‚öôüîé</summary>
            <fieldset role="group">
                <select name="sort" aria-label="sort" id="sortOption">
                    <option selected disabled value="unselected">Orden por Precio</option>
                    <option value="">Sin orden</option>
                    <option value="asc">Menor a mayor (asc)</option>
                    <option value="desc">Mayor a menor (desc)</option>
                </select>
                <select name="limit" aria-label="limit" id="limitOption">
                    <option selected disabled value="unselected">L√≠mite por P√°gina</option>
                    <option value="6">6 Productos</option>
                    <option value="10">10 Productos</option>
                    <option value="20">20 Productos</option>
                </select>
                <input name="category" type="text" id="filterText" placeholder="<Ingrese categor√≠a a buscar>"
                    value="" />
                <input type="submit" value="Buscar" onclick="filteredSortedSearch()" />
            </fieldset>
        </details>
        <hr />
    </div>
    {{#if products}}
    <div id="productsGrid">
        <div class="addButtonDiv"><button id="addButton" title="Crear nuevo Producto">‚ûï</button></div>
        {{#each products}}
        <div class="product" id="product-{{_id}}">
            <article class="articleProduct">
                <header>
                    <h3 class="hProd" id="title-{{_id}}">{{title}}üì¶</h3>
                    <div class="productImages" id="images-{{_id}}">
                        {{#if thumbnails}}
                        {{#each thumbnails}}
                        <img src="{{this}}" alt="Imagen del Producto {{../title}}">
                        {{/each}}
                        {{else}}
                        <p>El producto a√∫n no tiene im√°genes</p>
                        {{/if}}
                    </div>
                </header>
                <p class="pProd" id="code-{{_id}}"><u> C√≥digo:</u> {{code}}</p>
                <hr />
                <p class="pProd" id="description-{{_id}}"><u>Descripci√≥n:</u> {{description}}</p>
                <hr />
                <p class="pProd" id="status-{{_id}}"><u>Estado:</u> {{#if status}}Activo{{else}}Desactivado{{/if}}</p>
                <hr />
                <p class="pProd" id="stock-{{_id}}"><u>Stock:</u> {{stock}}</p>
                <hr />
                <p class="pProd" id="category-{{_id}}"><u>Categor√≠a:</u> {{category}}</p>
                <hr />
                <p class="pProd" id="price-{{_id}}"><u>Precio:</u> ${{price}}</p>
                <footer class="footerProduct">
                    {{#if status}}
                    <button class="statusProductButton" id="status-disable-{{_id}}">Desact.üîí</button>
                    {{else}}
                    <button class="statusProductButton" id="status-enable-{{_id}}">Activarüîì</button>
                    {{/if}}
                    <button class="deleteProductButton" id="delete-{{_id}}">Borrarüóë</button>
                </footer>
            </article>
        </div>
        {{/each}}
    </div>
    <span id="spanPaginate">
        {{#if details.hasPrevPage}}
        <a href="{{details.firstLink}}">‚èÆPrimera</a>
        <a href="{{details.prevLink}}">‚óÄAnterior </a>
        {{/if}}
        <p>P√°gina {{details.page}} de {{details.totalPages}}</p>
        {{#if details.hasNextPage}}
        <a href="{{details.nextLink}}"> Siguiente‚ñ∂</a>
        <a href="{{details.lastLink}}"> √öltima‚è≠</a>
        {{/if}}
    </span>
    <h2 class="hProd" id="h2Total">Total: {{details.totalDocs}}</h2>
    {{else}}
    <div id="productsGrid">
        <div class="addButtonDiv"><button id="addButton" title="Crear nuevo Producto">‚ûï</button></div>
        <h2 id="noProductsH2">No hay productos para mostrar ‚õî</h2>
    </div>
    {{/if}}
</div>

<script src="/socket.io/socket.io.js"> </script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/js/realTimeProducts.js"> </script>